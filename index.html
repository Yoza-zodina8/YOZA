<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BANANA Fish</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}

body {
  background: #c9b27c;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.hero {
  position: relative;
  width: 95%;
  max-width: 1200px;
  height: 500px;
  background: #bfa66d;
  border-radius: 24px;
  overflow: hidden;
  padding: 30px;
}

/* Background text */
.hero h1 {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: clamp(60px, 15vw, 180px);
  font-weight: 900;
  color: rgba(255,255,255,0.45);
  letter-spacing: 8px;
  z-index: 1;
}

/* Slider wrapper */
.character-slider-wrapper {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2;
  transition: top 0.3s ease;
}

/* Fade */
.character-slider-wrapper::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to right,
    rgba(191,166,109,0.6) 0%,
    transparent 20%,
    transparent 80%,
    rgba(191,166,109,0.6) 100%
  );
  pointer-events: none;
  z-index: 3;
}

/* Slider */
.character-slider {
  display: flex;
  gap: 60px;
  width: 100%;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  padding: 40px 0;
  cursor: grab;
  user-select: none;
  touch-action: pan-x;
}

.character-slider:active {
  cursor: grabbing;
}

.character-slider::-webkit-scrollbar {
  display: none;
}

/* Characters */
.character {
  flex: 0 0 auto;
  scroll-snap-align: center;
  pointer-events: none;
}

.character.active {
  pointer-events: auto;
  cursor: pointer;
}

.character img {
  width: 260px;
  height: auto;
  transition: transform 0.4s ease;
  filter: drop-shadow(0 20px 30px rgba(0,0,0,0.3));
  pointer-events: none;
  user-drag: none;
  -webkit-user-drag: none;
}

/* Spacer */
.character.spacer {
  width: 130px;
  height: 360px;
}

/* Content */
.content {
  position: absolute;
  left: 30px;
  bottom: 40px;
  z-index: 4;
  max-width: 300px;
}

.content h3 {
  font-size: 14px;
  letter-spacing: 1px;
  opacity: 0.8;
}

.content p {
  font-size: 13px;
  margin-top: 8px;
  line-height: 1.5;
}

/* CTA */
.cta {
  position: absolute;
  right: 30px;
  bottom: 40px;
  font-weight: 600;
  cursor: pointer;
  z-index: 4;
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .hero {
    height: 550px; /* Slightly taller for spacing */
  }

  .character-slider-wrapper {
    top: 10%; /* move slider higher on mobile to reveal content */
  }

  .character-slider {
    gap: 30px;
    padding: 20px 0;
  }

  .character img,
  .character.spacer {
    width: 180px;
    height: auto;
  }

  .character.spacer {
    width: 90px;
  }
}
</style>
</head>

<body>

<div class="hero">
  <h1>BANANA FISH</h1>

  <div class="character-slider-wrapper">
    <div class="character-slider">

      <div class="character spacer"></div>

      <div class="character" data-link="profile2.html"><img src="images/kiro.png"></div>
      <div class="character" data-link="profile3.html"><img src="images/kiro.png"></div>
      <div class="character" data-link="profile4.html"><img src="images/kiro.png"></div>
      <div class="character" data-link="profile5.html"><img src="images/kiro.png"></div>
      <div class="character" data-link="profile6.html"><img src="images/kiro.png"></div>

      <div class="character spacer"></div>

    </div>
  </div>

  <div class="content">
    <h3>BANANA Fish Player</h3>
    <p>Kan main team leh substitute te, hriat belh i duh chuan picture hmet rawh</p>
  </div>

  <div class="cta" onclick="goNext('explore.html')">EXPLORE ALL â†’</div>
</div>

<script>
function goNext(page) {
  window.location.href = page;
}

const slider = document.querySelector('.character-slider');
const realCharacters = [...document.querySelectorAll('.character:not(.spacer)')];
let scrollTimeout;

function updateCharacters() {
  const sliderCenter = slider.getBoundingClientRect().left + slider.offsetWidth / 2;
  let closest = null;
  let minDistance = Infinity;

  realCharacters.forEach(char => {
    const img = char.querySelector('img');
    const rect = img.getBoundingClientRect();
    const center = rect.left + rect.width / 2;
    const distance = Math.abs(sliderCenter - center);

    const scale = Math.max(0.9, 1.3 - distance / 300);
    img.style.transform = `scale(${scale})`;
    char.classList.remove('active');

    if (distance < minDistance) {
      minDistance = distance;
      closest = char;
    }
  });

  if (closest) closest.classList.add('active');
}

function snapToNearestRealCharacter() {
  const sliderCenter = slider.getBoundingClientRect().left + slider.offsetWidth / 2;
  let closest = null;
  let minDistance = Infinity;

  realCharacters.forEach(char => {
    const rect = char.getBoundingClientRect();
    const center = rect.left + rect.width / 2;
    const distance = Math.abs(sliderCenter - center);

    if (distance < minDistance) {
      minDistance = distance;
      closest = char;
    }
  });

  if (closest) {
    const rect = closest.getBoundingClientRect();
    slider.scrollBy({
      left: rect.left + rect.width / 2 - sliderCenter,
      behavior: "smooth"
    });
  }
}

realCharacters.forEach(char => {
  char.addEventListener('click', () => {
    if (char.classList.contains('active')) {
      goNext(char.dataset.link);
    } else {
      snapToNearestRealCharacter();
    }
  });
});

slider.addEventListener("scroll", () => {
  updateCharacters();
  clearTimeout(scrollTimeout);
  scrollTimeout = setTimeout(snapToNearestRealCharacter, 120);
});

/* Mouse */
let isDown = false;
let startX;
let scrollLeft;

slider.addEventListener('mousedown', e => {
  isDown = true;
  startX = e.pageX;
  scrollLeft = slider.scrollLeft;
});

window.addEventListener('mouseup', () => isDown = false);

slider.addEventListener('mousemove', e => {
  if (!isDown) return;
  e.preventDefault();
  slider.scrollLeft = scrollLeft - (e.pageX - startX) * 1.5;
});

/* Touch */
let touchStartX = 0;

slider.addEventListener('touchstart', e => {
  touchStartX = e.touches[0].pageX;
  scrollLeft = slider.scrollLeft;
}, { passive: true });

slider.addEventListener('touchmove', e => {
  const x = e.touches[0].pageX;
  slider.scrollLeft = scrollLeft - (x - touchStartX) * 1.5;
  e.preventDefault();
}, { passive: false });

/* Initialize slider to first character */
function initSlider() {
  const first = realCharacters[0];
  const sliderCenter = slider.getBoundingClientRect().left + slider.offsetWidth / 2;
  const rect = first.getBoundingClientRect();

  slider.scrollLeft += rect.left + rect.width / 2 - sliderCenter;
  updateCharacters();
}

window.addEventListener("load", initSlider);
window.addEventListener("resize", updateCharacters);
</script>

</body>
</html>
